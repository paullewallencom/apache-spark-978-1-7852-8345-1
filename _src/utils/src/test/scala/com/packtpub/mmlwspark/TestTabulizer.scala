package com.packtpub.mmlwspark.utils

import com.packtpub.mmlwspark.utils.Tabulizer.table
import org.scalatest.FunSuite

/**
  * Test tabulizer
  */
class TestTabulizer extends FunSuite {
  test("table sort") {
     println(
       s"""GBM Model: Grid results:
          ~${table(Seq("iterations, depth, learningRate", "AUC", "error"), gbmResults.sortBy(-_._2).take(10), format = Map(1 -> "%.3f", 2 -> "%.3f"))}
        """.stripMargin('~'))

  }

  val gbmResults = Seq(
    ((5,2,0.1),0.635,0.363),
    ((5,2,0.01),0.631,0.370),
    ((5,2,0.001),0.631,0.370),
    ((5,3,0.1),0.662,0.338),
    ((5,3,0.01),0.660,0.343),
    ((5,3,0.001),0.640,0.367),
    ((5,5,0.1),0.686,0.312),
    ((5,5,0.01),0.673,0.326),
    ((5,5,0.001),0.662,0.335),
    ((5,7,0.1),0.694,0.304),
    ((5,7,0.01),0.683,0.314),
    ((5,7,0.001),0.681,0.316),
    ((10,2,0.1),0.641,0.356),
    ((10,2,0.01),0.631,0.370),
    ((10,2,0.001),0.631,0.370),
    ((10,3,0.1),0.672,0.326),
    ((10,3,0.01),0.661,0.341),
    ((10,3,0.001),0.640,0.367),
    ((10,5,0.1),0.695,0.303),
    ((10,5,0.01),0.676,0.323),
    ((10,5,0.001),0.662,0.335),
    ((10,7,0.1),0.702,0.297),
    ((10,7,0.01),0.684,0.313),
    ((10,7,0.001),0.681,0.316),
    ((50,2,0.1),0.684,0.313),
    ((50,2,0.01),0.635,0.363),
    ((50,2,0.001),0.631,0.370),
    ((50,3,0.1),0.700,0.298),
    ((50,3,0.01),0.663,0.336),
    ((50,3,0.001),0.661,0.342),
    ((50,5,0.1),0.714,0.285),
    ((50,5,0.01),0.688,0.310),
    ((50,5,0.001),0.674,0.324),
    ((50,7,0.1),0.716,0.283),
    ((50,7,0.01),0.694,0.304),
    ((50,7,0.001),0.684,0.314),
    ((100,2,0.1),0.701,0.297),
    ((100,2,0.01),0.641,0.356),
    ((100,2,0.001),0.631,0.370),
    ((100,3,0.1),0.709,0.289),
    ((100,3,0.01),0.671,0.327),
    ((100,3,0.001),0.660,0.343),
    ((100,5,0.1),0.721,0.277),
    ((100,5,0.01),0.698,0.300),
    ((100,5,0.001),0.677,0.322),
    ((100,7,0.1),0.720,0.278),
    ((100,7,0.01),0.704,0.294),
    ((100,7,0.001),0.685,0.312)
  )
}
